var player1,player2,lastTime1=0,lastTime2=0;function onYouTubeIframeAPIReady(){setupYouTubeEventListeners()}function setupYouTubeEventListeners(){document.addEventListener("click",(function(e){const o=e.target.closest("#openmodal1, .modal1"),r=e.target.closest("#openmodal2, .modal2"),a=e.target.closest("#modal1 .close-button-wrapper"),t=e.target.closest("#modal2 .close-button-wrapper");if(o)console.log("Modal 1 Open Target Clicked:",o,"\nCalling handleModalOpen for player1."),handleModalOpen("player1","scIZq2PPzU0");else if(r)console.log("Modal 2 Open Target Clicked:",r,"\nCalling handleModalOpen for player2."),handleModalOpen("player2","SKcxYIl-tT8");else if(a)if(console.log("Modal 1 Close Target Clicked:",a),player1&&"function"==typeof player1.pauseVideo){if("function"==typeof player1.getCurrentTime)try{lastTime1=player1.getCurrentTime()}catch(e){console.warn("Error getting current time for player1:",e)}try{player1.pauseVideo()}catch(e){console.error("Error pausing player1:",e)}}else console.warn("Could not pause player1 on close (not ready or does not exist).");else if(t)if(console.log("Modal 2 Close Target Clicked:",t),player2&&"function"==typeof player2.pauseVideo){if("function"==typeof player2.getCurrentTime)try{lastTime2=player2.getCurrentTime()}catch(e){console.warn("Error getting current time for player2:",e)}try{player2.pauseVideo()}catch(e){console.error("Error pausing player2:",e)}}else console.warn("Could not pause player2 on close (not ready or does not exist).")}))}function handleModalOpen(e,o){if(!document.getElementById(e))return void console.error("Player div not found:",e);let r,a;if("player1"===e?(r=player1,a=lastTime1):(r=player2,a=lastTime2),r)if(console.log("Resuming existing player:",e),"function"==typeof r.seekTo&&"function"==typeof r.playVideo)try{r.seekTo(Math.floor(a||0)),r.playVideo()}catch(o){console.error("Error resuming player:",e,o)}else console.warn("Player exists but methods not available on resume attempt:",e);else{console.log("Creating new player:",e);var t=new YT.Player(e,{height:"100%",width:"100%",videoId:o,playerVars:{rel:0,modestbranding:1,autoplay:1,start:Math.floor(a||0)},events:{onReady:onPlayerReady}});"player1"===e?player1=t:player2=t}}function onPlayerReady(e){if(console.log("Player ready:",e.target.getIframe().id),e.target&&"function"==typeof e.target.playVideo)try{e.target.playVideo()}catch(o){console.error("Error calling playVideo in onPlayerReady for:",e.target.getIframe().id,o)}else console.warn("onPlayerReady: playVideo function not found for",e.target)}function loadYouTubeAPI(){if(window.YT)onYouTubeIframeAPIReady();else{var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(e,o)}}loadYouTubeAPI();