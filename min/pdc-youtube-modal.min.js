!function(){"use strict";const e={player1:"scIZq2PPzU0",player2:"SKcxYIl-tT8"},o={modal1:"#openmodal1, .modal1",modal2:"#openmodal2, .modal2",closeButton1:"#modal1 .close-button-wrapper",closeButton2:"#modal2 .close-button-wrapper"},t={height:"100%",width:"100%",playerVars:{rel:0,modestbranding:1,autoplay:1}},l={players:new Map,times:new Map,getPlayer(e){return this.players.get(e)},setPlayer(e,o){console.log(`Setting player for ${e}`),this.players.set(e,o)},getTime(e){const o=this.times.get(e)||0;return console.log(`Getting time for ${e}:`,o),o},setTime(e,o){console.log(`Setting time for ${e}:`,o),this.times.set(e,Math.floor(o||0))},removePlayer(e){console.log(`Removing player ${e}`),this.players.delete(e),this.times.delete(e)}};function n(e,o=null){try{return e()}catch(e){return console.error("Operation failed:",e),o}}function r(e,o){console.log(`Creating new player: ${e} for video: ${o}`);const r=l.getPlayer(e);r&&(console.log(`Destroying existing player: ${e}`),n((()=>r.destroy())),l.removePlayer(e));const s=new YT.Player(e,{...t,videoId:o,playerVars:{...t.playerVars,start:l.getTime(e)},events:{onReady:i,onError:o=>function(e,o){console.error("YouTube Player Error:",{playerId:o,errorCode:e.data,errorMessage:d(e.data)});const t=l.getPlayer(o);t&&(console.log(`Cleaning up player after error: ${o}`),n((()=>{t.destroy(),l.removePlayer(o)})))}(o,e)}});return l.setPlayer(e,s),s}function s(e,o){console.log(`Modal open requested for ${e}`);if(!document.getElementById(e))return void console.error("Player div not found:",e);const t=l.getPlayer(e);t?(console.log(`Resuming existing player: ${e}`),n((()=>{const o=l.getTime(e);console.log(`Seeking to time: ${o}`),t.seekTo(o),t.playVideo()}))):(console.log(`No existing player found, creating new one: ${e}`),r(e,o))}function a(e){console.log(`Modal close requested for ${e}`);const o=l.getPlayer(e);o?n((()=>{if("function"==typeof o.getCurrentTime){const t=o.getCurrentTime();console.log(`Saving current time for ${e}:`,t),l.setTime(e,t)}"function"==typeof o.pauseVideo&&(console.log(`Pausing video for ${e}`),o.pauseVideo())})):console.warn(`No player found to close: ${e}`)}const c=t=>{const l=t.target;l.closest(o.modal1)?(console.log("Modal 1 Open Target Clicked:",l.closest(o.modal1)),s("player1",e.player1)):l.closest(o.modal2)&&(console.log("Modal 2 Open Target Clicked:",l.closest(o.modal2)),s("player2",e.player2)),l.closest(o.closeButton1)?(console.log("Modal 1 Close Target Clicked:",l.closest(o.closeButton1)),a("player1")):l.closest(o.closeButton2)&&(console.log("Modal 2 Close Target Clicked:",l.closest(o.closeButton2)),a("player2"))};function i(e){const o=e.target,t=o.getIframe().id;console.log("Player ready:",t),n((()=>{console.log(`Attempting to play video for ${t}`),o.playVideo()}))}function d(e){return{2:"Invalid parameter value",5:"HTML5 player error",100:"Video not found",101:"Playback on other websites has been disabled by the video owner",150:"Playback on other websites has been disabled by the video owner"}[e]||"Unknown error"}function g(){console.log("Performing cleanup..."),l.players.forEach(((e,o)=>{console.log(`Cleaning up player: ${o}`),n((()=>{e&&"function"==typeof e.destroy&&e.destroy()}))})),l.players.clear(),l.times.clear(),console.log("Cleanup complete")}function u(){console.log("Setting up event listeners"),document.addEventListener("click",c),window.addEventListener("unload",g)}window.onYouTubeIframeAPIReady=function(){console.log("YouTube IFrame API Ready"),u()},console.log("Initializing YouTube Modal Manager"),function(){if(console.log("Loading YouTube API..."),window.YT)console.log("YouTube API already loaded"),u();else{const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";const o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(e,o),console.log("YouTube API script tag added")}}()}();